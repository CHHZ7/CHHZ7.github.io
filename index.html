<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç°åŸä»€ä¹ˆçš„æœ€å¯çˆ±äº†(â—'â—¡'â—)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            font-family: "å¾®è½¯é›…é»‘", "PingFang SC", sans-serif;
            height: 100vh;
            position: relative;
            cursor: default;
            transition: background 0.5s ease;
        }
        
        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ecf0f1;
            font-size: 2rem;
            text-align: center;
            z-index: 100;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            background: rgba(44, 62, 80, 0.7);
            padding: 10px 20px;
            border-radius: 50px;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .title:hover {
            transform: translateX(-50%) scale(1.05);
        }
        
        .sticker {
            position: absolute;
            padding: 10px 16px;
            border-radius: 8px;
            color: white;
            font-family: "å¾®è½¯é›…é»‘", "PingFang SC", sans-serif;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.5s ease;
            z-index: 1;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .sticker:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
            z-index: 2;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-15px) rotate(1deg);
            }
            50% {
                transform: translateY(-5px) rotate(-1deg);
            }
            75% {
                transform: translateY(-10px) rotate(2deg);
            }
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 99, 132, 0.7);
            transform: rotate(45deg);
            z-index: 0;
            pointer-events: none;
        }
        
        .heart:before, .heart:after {
            content: '';
            width: 20px;
            height: 20px;
            background: rgba(255, 99, 132, 0.7);
            border-radius: 50%;
            position: absolute;
        }
        
        .heart:before {
            top: -10px;
            left: 0;
        }
        
        .heart:after {
            top: 0;
            left: -10px;
        }
        
        @keyframes heartFloat {
            0% {
                transform: rotate(45deg) translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: rotate(45deg) translateY(-100px) scale(0.5);
                opacity: 0;
            }
        }
        
        .info-panel {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(44, 62, 80, 0.7);
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            color: #ecf0f1;
            z-index: 100;
            backdrop-filter: blur(4px);
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }
        
        .control-btn {
            background: rgba(44, 62, 80, 0.7);
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            color: #ecf0f1;
            backdrop-filter: blur(4px);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .control-btn:hover {
            background: rgba(52, 73, 94, 0.9);
            transform: scale(1.05);
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }
        
        .settings-panel {
            position: absolute;
            top: 80px;
            right: 20px;
            background: rgba(44, 62, 80, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            color: #ecf0f1;
            z-index: 100;
            backdrop-filter: blur(4px);
            width: 220px;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .settings-panel h3 {
            margin-bottom: 10px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #ecf0f1;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .setting-item {
            margin-bottom: 12px;
        }
        
        .setting-item label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.8rem;
        }
        
        .setting-item input[type="range"] {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            height: 5px;
            outline: none;
        }
        
        .setting-item input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(44, 62, 80, 0.7);
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            color: #ecf0f1;
            z-index: 100;
            backdrop-filter: blur(4px);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .theme-toggle:hover {
            background: rgba(52, 73, 94, 0.9);
            transform: scale(1.05);
        }
        
        .music-player {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(44, 62, 80, 0.7);
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            color: #ecf0f1;
            z-index: 100;
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .music-btn {
            background: none;
            border: none;
            color: #ecf0f1;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .music-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            width: 100px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #3498db;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .effect-buttons {
            position: absolute;
            top: 80px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }
        
        .effect-btn {
            background: rgba(44, 62, 80, 0.7);
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 0.9rem;
            color: #ecf0f1;
            backdrop-filter: blur(4px);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .effect-btn:hover {
            background: rgba(52, 73, 94, 0.9);
            transform: scale(1.05);
        }
        
        .notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(44, 62, 80, 0.9);
            color: #ecf0f1;
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            backdrop-filter: blur(4px);
            display: none;
            animation: fadeInOut 3s ease;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            10%, 90% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        .sticker-counter {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .counter-icon {
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="title">ç°åŸä»€ä¹ˆçš„æœ€å¯çˆ±äº†(â—'â—¡'â—)</div>
    <div class="theme-toggle">ğŸŒ æ—¥é—´æ¨¡å¼</div>
    
    <div class="controls">
        <button class="control-btn" id="clearBtn">ğŸ—‘ï¸ æ¸…é™¤æ ‡ç­¾</button>
        <button class="control-btn" id="settingsBtn">âš™ï¸ è®¾ç½®</button>
    </div>
    
    <div class="effect-buttons">
        <button class="effect-btn" id="rainbowBtn">ğŸŒˆ å½©è™¹æ¨¡å¼</button>
        <button class="effect-btn" id="pulseBtn">ğŸ’“ å¿ƒè·³æ¨¡å¼</button>
        <button class="effect-btn" id="explodeBtn">ğŸ’¥ çˆ†ç‚¸æ•ˆæœ</button>
    </div>
    
    <div class="settings-panel" id="settingsPanel">
        <h3>è®¾ç½® <button class="close-btn" id="closeSettings">Ã—</button></h3>
        <div class="setting-item">
            <label for="stickerCount">æ ‡ç­¾æ•°é‡: <span id="countValue">15</span></label>
            <input type="range" id="stickerCount" min="5" max="30" value="15">
        </div>
        <div class="setting-item">
            <label for="animationSpeed">åŠ¨ç”»é€Ÿåº¦: <span id="speedValue">æ­£å¸¸</span></label>
            <input type="range" id="animationSpeed" min="1" max="5" value="3">
        </div>
        <div class="setting-item">
            <label for="fontSize">å­—ä½“å¤§å°: <span id="sizeValue">ä¸­ç­‰</span></label>
            <input type="range" id="fontSize" min="1" max="5" value="3">
        </div>
        <div class="setting-item">
            <label for="spawnRate">ç”Ÿæˆé€Ÿåº¦: <span id="rateValue">æ­£å¸¸</span></label>
            <input type="range" id="spawnRate" min="1" max="5" value="3">
        </div>
        <div class="setting-item">
            <label>
                <input type="checkbox" id="enableParticles" checked> å¯ç”¨ç²’å­æ•ˆæœ
            </label>
        </div>
        <div class="setting-item">
            <label>
                <input type="checkbox" id="enableHearts" checked> å¯ç”¨å¿ƒå½¢åŠ¨ç”»
            </label>
        </div>
        <div class="setting-item">
            <label>
                <input type="checkbox" id="enableMusic" checked> å¯ç”¨èƒŒæ™¯éŸ³ä¹
            </label>
        </div>
    </div>
    
    <div class="info-panel">
        <div class="sticker-counter">
            <span class="counter-icon">ğŸ·ï¸</span> æ ‡ç­¾æ•°é‡: <span id="count">0</span>
        </div>
        <div>ç‚¹å‡»æ ‡ç­¾å¯ç§»é™¤</div>
        <div>åŒå‡»ç©ºç™½å¤„æ·»åŠ æ ‡ç­¾</div>
    </div>
    
    <div class="music-player">
        <button class="music-btn" id="playBtn">â–¶ï¸</button>
        <button class="music-btn" id="pauseBtn">â¸ï¸</button>
        <div class="progress-bar">
            <div class="progress" id="musicProgress"></div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // å®šä¹‰100æ¡æ¸©æš–çš„æ–‡å­—å†…å®¹ï¼ˆå·²ç§»é™¤åäººåå­—ï¼‰
        const texts = [
            "ä½ å€¼å¾—è¿™ä¸–é—´ï¼Œæ‰€æœ‰çš„ç¾å¥½ã€‚",
            "å¿ƒè‹¥æœ‰æ‰€å‘å¾€ï¼Œä½•æƒ§é“é˜»ä¸”é•¿ã€‚",
            "å‘½è¿ä¸ä¼šäºå¾…æ­£åœ¨åŠªåŠ›å˜å¥½çš„ä½ ",
            "æ„¿ä½ æˆä¸ºè‡ªå·±çš„å¤ªé˜³ï¼Œæ— éœ€å€ŸåŠ©è°çš„å…‰ã€‚",
            "å‡­æ—¶é—´èµ¢æ¥çš„ä¸œè¥¿ï¼Œæ—¶é—´è‚¯å®šä¼šä¸ºä¹‹ä½œè¯ã€‚",
            "é”™è¿‡äº†è½æ—¥ä½™æ™–ï¼Œè¿˜å¯ä»¥é™å¾…æ»¡å¤©ç¹æ˜Ÿã€‚",
            "åŠªåŠ›å»åšä¸€ä¸ªæ¸©æš–çš„äººï¼Œç”¨çœŸå¿ƒå¯¹ä¸–ç•Œå¾®ç¬‘ï¼Œç”¨çœ¼æ³ªæé†’è‡ªå·±è¦åšçš„æ›´å¥½ï¼Œç”¨å¿«ä¹å»è¿æ¥æ¯ä¸€å¤©çš„é˜³å…‰ï¼Œç”¨è‡ªä¿¡å‘ä¸–ç•Œå®£ç§°ä½ è¿‡å¾—å¾ˆå¥½ã€‚",
            "ä¸è¦æ²‰é†‰äºè¿‡å»ï¼Œä¸è¦éæƒ³äºæœªæ¥ï¼Œä¸“æ³¨äºå³å°†æµé€çš„ç°åœ¨ã€‚",
            "ä½ æ°¸è¿œæ²¡æœ‰èµ„æ ¼å»çœ‹ä¸èµ·ä¸€ä¸ªæ­£åœ¨åŠªåŠ›çš„äººã€‚",
            "èº«åè¿˜æœ‰é‚£ä¹ˆå¤šæœŸè®¸çš„ç›®å…‰ï¼Œä½ æ€ä¹ˆå¯ä»¥è½»æ˜“æ”¾å¼ƒã€‚",
            "æ¯å¤©æé†’è‡ªå·±ï¼Œä½ æœ‰å¤šè‡ªå¾‹ï¼Œå°±æœ‰å¤šç¾å¥½ã€‚åªè¦ä½ è¿˜æ„¿æ„åŠªåŠ›ï¼Œç”Ÿæ´»ä¼šä¸æ–­ç»™ä½ æƒŠå–œï¼",
            "è¯·å†åŠªåŠ›ä¸€ä¸‹ï¼Œä¸ºäº†ä½ æƒ³è§çš„äººï¼Œæƒ³åšçš„äº‹ï¼Œæƒ³æˆä¸ºçš„è‡ªå·±",
            "æŠŠåŠªåŠ›å½“æˆä¸€ç§ä¹ æƒ¯ï¼Œè€Œä¸æ˜¯ä¸‰åˆ†é’Ÿçƒ­åº¦ã€‚åšæŒæ‰æ˜¯ç‹é“ï¼Œæ¯ä¸€ä¸ªä½ ç¾¡æ…•çš„æ”¶è·ï¼Œéƒ½æ˜¯åˆ«äººåŠªåŠ›ç”¨å¿ƒæ‹¼æ¥çš„ï¼Œä½ å¯ä»¥æŠ¥æ€¨ï¼Œä¹Ÿå¯ä»¥æ— è§†ï¼Œä½†è®°ä½ï¼Œä¸åŠªåŠ›ï¼Œè¿è®¤è¾“çš„èµ„æ ¼éƒ½æ²¡æœ‰ï¼",
            "æ‚ä½ä½ çš„è€³æœµï¼Œä¸“æ³¨äºè€Œå‰çš„äº‹ï¼Œä¸è¦å—å¹²æ‰°ï¼Œä¸è¦æƒ³ç»“æœã€‚",
            "å°±ç®—æ­¥å­å¾ˆå°ï¼Œä¹Ÿè¦ä¸€æ­¥æ­¥å‰è¿›ã€‚",
            "é™ªä½ åˆ°æœ€åçš„é‚£ä¸ªäººï¼Œåªæœ‰ä½ è‡ªå·±ï¼Œä½ å°±æ˜¯è‡ªå·±çš„ç¥ã€‚",
            "è¦å¥½å¥½çæƒœè‡ªå·±çš„åå­—ï¼šè®°å¾—è‡ªå·±æ˜¯è°ï¼Œä¾¿çŸ¥é“è‡ªå·±è¦åšä»€ä¹ˆï¼Œè¦èµ°ä»€ä¹ˆæ ·çš„è·¯ã€‚",
            "è¿‡å¾€ä¸æ‹ï¼Œæœªæ¥ä¸è¿ï¼Œå½“ä¸‹ä¸è´Ÿã€‚",
            "ä½ æœŸå¾…çš„ï¼Œæ­£åœ¨å‘ä½ èµ°æ¥â€‹ã€‚",
            "åŠªåŠ›è¿½ä¸Šé‚£ä¸ªæ›¾ç»è¢«èµ‹äºˆåšæœ›çš„è‡ªå·±",
            "è¿·èŒ«æ—¶ï¼Œåšå®šåœ°å¯¹è‡ªå·±è¯´ï¼Œå½“æ—¶çš„æ¢¦æƒ³ï¼Œæˆ‘è¿˜è®°å¾—",
            "å¦‚æœä½ ç´¯äº†ï¼Œå­¦ä¼šä¼‘æ¯ï¼Œè€Œä¸æ˜¯æ”¾å¼ƒã€‚",
            "åçœ‹åº­å‰èŠ±å¼€èŠ±è½ï¼Œç¬‘çœ‹å¤©è¾¹äº‘å·äº‘èˆ’ã€‚",
            "å‘å…‰ä¸æ˜¯å¤ªé˜³çš„æƒåˆ©ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥ã€‚",
            "æ— è®ºè¿™ä¸ªä¸–ç•Œå¯¹ä½ æ€æ ·ï¼Œéƒ½è¯·ä½ ä¸€å¦‚æ—¢å¾€çš„åŠªåŠ›ã€å‹‡æ•¢ã€å……æ»¡å¸Œæœ›ã€‚",
            "å³ä½¿ç”Ÿæ´»æœ‰ä¸€åƒä¸ªç†ç”±è®©ä½ å“­ï¼Œä½ ä¹Ÿè¦æ‰¾åˆ°ä¸€ä¸ªç†ç”±è®©è‡ªå·±ç¬‘ï¼Œè¿™å°±æ˜¯äººç”Ÿã€‚",
            "æƒ³è¦æ— å¯å–ä»£ï¼Œå°±å¿…é¡»æ—¶åˆ»ä¸ä¼—ä¸åŒã€‚",
            "ä½ å¹²å˜›åœ¨ä¹åˆ«äººæ€ä¹ˆæƒ³ï¼Ÿ",
            "å½“ä½ èƒ½ä¸€ä¸ªäººé»˜é»˜æ¶ˆåŒ–æ‰è´Ÿé¢æƒ…ç»ªçš„æ—¶å€™ï¼Œä½ å°±çœŸçš„é•¿å¤§äº†",
            "å¤±è½æ—¶æ‚„æ‚„ä¼¸å‡ºæ‰‹å’Œé£å‡»ä¸ªæŒã€‚",
            "å¿ƒä¸­çš„å¾®å…‰ï¼Œæ˜¯æ¢¦æƒ³å‡ºå‘çš„åœ°æ–¹ã€‚",
            "ç³Ÿç³•çš„æ—¥å­å¾€å¾€æœ‰ç‰¹åˆ«çš„ä»·å€¼ ä½†å‰ææ˜¯ä½ è¦æŒºè¿‡å» ä½ è¦è®©æ‰€æœ‰çš„ç³Ÿç³•éƒ½å˜å¾—å€¼å¾—",
            "ç”Ÿæ´»ä¸æ˜¯ç­‰ç€æš´é£é›¨è¿‡å»ï¼Œè€Œæ˜¯å­¦ä¼šåœ¨é£é›¨ä¸­è·³èˆã€‚",
            "å½“ä½ è§‰å¾—ä»€ä¹ˆéƒ½æ²¡æ„æ€çš„æ—¶å€™ä½ å°±å­¦ä¹ ï¼Œå­¦èµ·ä¹ æ¥èº«è¾¹çš„ä»»ä½•ä¸œè¥¿éƒ½å˜å¾—æœ‰è¶£äº†ã€‚",
            "æ˜Ÿå…‰ä¸é—®èµ¶è·¯äººï¼Œæ—¶å…‰ä¸è´Ÿæœ‰å¿ƒäººã€‚",
            "çœŸæ­£åœ¨åŠªåŠ›çš„ï¼Œæ—¥å­æ˜¯ä¸ä¼šèˆ’æœçš„ã€‚æŠŠè‡ªå·±å˜ä¼˜ç§€ï¼Œå…¶ä»–çš„äº‹æƒ…è‡ªç„¶å°±ä¼šè·Ÿç€å¥½èµ·æ¥ï¼Œä¼šè®²ç©¶ï¼Œèƒ½å°†å°±ï¼Œèƒ½äº«å—æœ€å¥½çš„ï¼Œä¹Ÿèƒ½æ‰¿å—æœ€åçš„ã€‚",
            "è€å¸ˆè¯´è¿‡ï¼Œäººç”Ÿæ€»æ˜¯å¾—æœ‰å‡ å¹´çš„æ²‰æ·€æ—¶é—´ã€‚é‚£æ®µæ—¥å­ï¼Œä½ ä¼šå¾ˆå­¤ç‹¬ï¼Œå¾ˆè½é­„ï¼Œå¾ˆç‹¼ç‹ˆï¼Œä½†è¿™æ®µçš„ç»å†ï¼Œä¼šå½±å“ä½ æœªæ¥å‡ åå¹´çš„äººç”Ÿã€‚ä¸å›å…±å‹‰ã€‚",
            "ç­‰ç†¬è¿‡è¿™äº›æ—¥å­ï¼Œä¸€åˆ‡éƒ½ä¼šå˜å¥½çš„ã€‚",
            "åŠªåŠ›è¿‡åï¼Œæ‰çŸ¥é“è®¸å¤šäº‹æƒ…ï¼ŒåšæŒåšæŒï¼Œå°±è¿‡æ¥äº†",
            "ä½ æ•·è¡ç”Ÿæ´»ï¼Œç”Ÿæ´»å°±ä¼šæ•·è¡ä½ ",
            "äººç”Ÿæœ€ç²¾å½©çš„ä¸æ˜¯æˆåŠŸçš„é‚£ä¸€ç¬é—´ï¼Œè€Œæ˜¯å›å¤´çœ‹ï¼Œé‚£æ®µæ¼†é»‘çœ‹ä¼¼æ²¡æœ‰å°½å¤´ã€è‹¦è‹¦æ‘¸ç´¢çš„è¿‡ç¨‹ã€‚",
            "é»‘å¤œæ— è®ºæ€æ ·æ‚ é•¿ï¼Œç™½æ˜¼æ€»ä¼šåˆ°æ¥ï¼æ˜¨å¤©ç»ˆå°†è¿‡å»ï¼Œæ˜æ—¥ç¿çƒ‚ä¾ç„¶ï¼",
            "äººé—´ä¸€è¶Ÿï¼Œç§¯æå‘ä¸Šï¼Œä¸å¿µè¿‡å¾€ï¼Œä¸ç•å°†æ¥",
            "ä¸å…¶åœ¨åˆ«äººä¼ä¸‹å°†å°±ï¼Œä¸å¦‚è‡ªå·±åœ¨é›¨é‡Œå¥”è·‘ã€‚",
            "å‘æ—¥è‘µå‘Šè¯‰æˆ‘ï¼Œåªè¦é¢å¯¹ç€é˜³å…‰åŠªåŠ›å‘ä¸Šï¼Œæ—¥å­å°±ä¼šå˜å¾—å•çº¯è€Œç¾å¥½ã€‚",
            "å¦‚ä»Šæˆ‘åŠªåŠ›å¥”è·‘ï¼Œä¸è¿‡æ˜¯ä¸ºäº†è¿½ä¸Šé‚£ä¸ªæ›¾ç»è¢«å¯„äºˆåšæœ›çš„è‡ªå·±ã€‚",
            "æ¥å—è‡ªå·±çš„æ™®é€šï¼Œä¹Ÿè¦è®°å¾—å‘ç°è‡ªå·±çš„ç¾ã€‚",
            "åœ¨è¿™æ ·çš„æ—¶åˆ»ï¼Œæˆ‘ä»¬éœ€è¦è€å¿ƒç­‰å¾…ï¼Œæ»¡æ€€ä¿¡å¿ƒåœ°å»æœŸå¾…ï¼Œç›¸ä¿¡ï¼Œç”Ÿæ´»ä¸ä¼šæ”¾å¼ƒä½ ï¼Œå‘½è¿ä¸ä¼šæŠ›å¼ƒä½ ã€‚å¦‚æœä½ è€ä¸ä½å¯‚å¯ï¼Œå°±çœ‹ä¸åˆ°ç¹åã€‚",
            "é˜»ç¢ä½ çš„ï¼Œæ˜¯ææƒ§å’Œä¼˜æŸ”å¯¡æ–­ï¼Œä½ å¾—ç›¸ä¿¡è‡ªå·±ï¼Œå¾€å‰èµ°å§ã€‚",
            "ä¸€æ—¦ä½ ä»å¿ƒé‡Œæ¥çº³äº†è‡ªå·±çš„å¼±ç‚¹ï¼Œå°±å†ä¹Ÿæ²¡æœ‰äººå¯ä»¥ç”¨è¿™ä¸ªäº‹æƒ…ä¼¤å®³ä½ ã€‚",
            "äººç”Ÿçš„æ—…é€”ä¸­ï¼Œä½ æ€»æœ‰é‚£ä¹ˆä¸€æ®µæ—¶é—´ï¼Œéœ€è¦è‡ªå·±èµ°ï¼Œéœ€è¦è‡ªå·±æ‰›ã€‚ä¸è¦æ„Ÿè§‰å®³æ€•ï¼Œä¸è¦æ„Ÿè§‰å­¤å•ï¼Œè¿™åªä¸è¿‡æ˜¯æˆé•¿çš„ä»£ä»·ç½¢äº†ã€‚",
            "çœŸæ­£æ²»æ„ˆè‡ªå·±çš„ï¼Œåªæœ‰è‡ªå·±ï¼›ä¸å»æŠ±æ€¨ï¼Œå°½é‡æ‹…å¾…ï¼›ä¸æ€•å­¤å•ï¼ŒåŠªåŠ›æ²‰æ·€ã€‚",
            "æˆ‘ç»å†äº†å¤±è´¥ã€å¤±è´¥å†å¤±è´¥ï¼Œä½†è¿™å°±æ˜¯æˆ‘æˆåŠŸçš„åŸå› ã€‚",
            "å½“ä½ è¶³å¤ŸåŠªåŠ›æ—¶ï¼Œå¹¸è¿æ€»ä¼šå’Œä½ ä¸æœŸè€Œé‡ã€‚",
            "è¿™ä¸€è·¯ä½ å¯ä»¥å“­ï¼Œä½†æ˜¯ä½ ä¸€å®šä¸èƒ½åœã€‚",
            "ä¸è¦å°è¯•åšä½ å–œæ¬¢çš„äº‹ï¼Œè¦å»å–œæ¬¢ä½ æ­£åœ¨åšçš„äº‹ã€‚",
            "ç”Ÿæ´»åœ¨é˜´æ²Ÿé‡Œï¼Œä¹Ÿè¦è®°å¾—ä»°æœ›æ˜Ÿç©º",
            "ä½ æœªå¿…å…‰èŠ’ä¸‡ä¸ˆï¼Œä½†å§‹ç»ˆæ¸©æš–æœ‰å…‰ã€‚",
            "å› ä¸ºæœ‰æ¢¦ï¼Œæ‰€ä»¥å‹‡æ•¢å‡ºå‘ï¼Œé€‰æ‹©å‡ºå‘ï¼Œä¾¿åªé¡¾é£é›¨å…¼ç¨‹ã€‚",
            "ä»Šæ—¥æŠ«æ˜Ÿæˆ´æœˆï¼Œæ˜æœè½»èˆé£æ‰¬ã€‚",
            "è°ä¸æ˜¯ä¸€è¾¹å—æŒ«æŠ˜ï¼Œä¸€è¾¹å­¦åšå¼ºã€‚",
            "ä½ æ‰€çƒ­çˆ±çš„ å°±æ˜¯ä½ çš„ç”Ÿæ´»",
            "äººç”Ÿï¼Œæ€»æœ‰äº›é»‘æš—çš„éš§é“éœ€è¦è‡ªå·±ç©¿è¶Šã€‚",
            "å½“ç”Ÿæ´»å‹å¾—ä½ å–˜ä¸è¿‡æ¥æ°”çš„æ—¶å€™ï¼Œä¸€å®šè¦å­¦ä¼šè‡ªå·±ä¸ºè‡ªå·±é¼“æŒã€‚",
            "åšè‡ªå·±å–œæ¬¢åšçš„äº‹æƒ…ï¼Œåšè‡ªå·±æ“…é•¿çš„äº‹æƒ…ï¼Œæ‰¾å›æˆåŠŸçš„å–œæ‚¦ï¼Œæ‰¾å›å¤±å»çš„ä¿¡å¿ƒï¼Œæ‰¾åˆ°å‰è¿›åŠ¨åŠ›å’Œæ–¹å‘ã€‚",
            "å¾ˆå¤šäº‹æƒ…å°±åƒæ˜¯æ—…è¡Œä¸€æ ·ï¼Œå½“ä½ å†³å®šè¦å‡ºå‘çš„æ—¶å€™ï¼Œæœ€å›°éš¾çš„é‚£éƒ¨åˆ†å…¶å®å°±å·²ç»å®Œæˆäº†",
            "å¿ƒå°äº†ï¼Œæ‰€æœ‰çš„å°äº‹å°±å¤§äº†ï¼›å¿ƒå¤§äº†ï¼Œæ‰€æœ‰çš„å¤§äº‹éƒ½å°äº†ï¼›çœ‹æ·¡ä¸–äº‹æ²§æ¡‘ï¼Œå†…å¿ƒå®‰ç„¶æ— æ™ã€‚",
            "åœ¨å¤šè¯´æ— ç›Šçš„æ—¶å€™ï¼Œä¹Ÿè®¸æ²‰é»˜å°±æ˜¯æœ€å¥½çš„è§£é‡Šã€‚",
            "æˆ‘èƒ½æ¥å—å¤±è´¥ï¼Œä½†æˆ‘ä¸èƒ½æ¥å—æ”¾å¼ƒ",
            "å½“ä½ æœ‰ä¸€ç§åšéŸ§ä¸æ‹”çš„ç²¾ç¥ï¼Œå½“ä½ ä¸ºäº†ä¸€ä¸ªç›®æ ‡æ„¿æ„æ…¢æ…¢å»åŠªåŠ›ï¼Œç”¨æ—¶é—´äº‰å–è‡ªå·±çš„æœªæ¥ï¼Œå¾€å¾€æœ€åèƒ½å–å¾—çš„æˆå°±æ¯”é‚£äº›è·‘å¾—å¿«çš„äººè¿˜è¦å¤šã€‚",
            "æ·¡ç„¶ï¼Œæ˜¯äººç”Ÿçš„ä¸€ç§æˆé•¿ã€‚åˆ«è®©ç”Ÿæ´»çš„å‹åŠ›æŒ¤èµ°å¿«ä¹ï¼Œæ”¶æ‹¾æƒ…ç»ªï¼Œé‡æ–°ä¸Šè·¯ã€‚",
            "ç´¯äº†ï¼Œè¹²ä¸‹æ¥æŠ±æŠ±è‡ªå·±ï¼Œä¾æ—§å€”å¼ºçš„è¯´ï¼šä¹Ÿä¸è¿‡å¦‚æ­¤ã€‚",
            "å³ä½¿èº«å¤„æš—æµï¼Œä¹Ÿè¦ä»°æœ›æ˜Ÿç©ºå•Š",
            "åªæœ‰å…ˆçˆ±è‡ªå·±ï¼Œä¸–ç•Œæ‰ä¼šçˆ±ä½ ã€‚",
            "ç”¨å¿«ä¹å¸¦åŠ¨å¿ƒæƒ…ï¼Œç”¨è§‚å¿µå¯¼èˆªäººç”Ÿï¼Œç”¨æ‰§ç€è¿½æ±‚äº‹ä¸šï¼Œç”¨çœŸè¯šå¯¹å¾…æœ‹å‹ï¼Œç”¨å¹³æ·¡å¯¹å¾…ç£¨éš¾ï¼Œç”¨åŠªåŠ›è¿½æ±‚å¹¸ç¦ï¼Œç”¨æ„Ÿæ©å¯¹å¾…ç”Ÿæ´»ï¼",
            "æ¯ä¸ªäººéƒ½æ˜¯è‡ªå·±çš„è‹±é›„ã€‚",
            "å› ä¸ºæœ‰æ‚”ï¼Œæ‰€ä»¥æŠ«æ˜Ÿæˆ´æœˆï¼›å› ä¸ºæœ‰æ¢¦ï¼Œæ‰€ä»¥å¥‹ä¸é¡¾èº«ã€‚",
            "ä»–æœªå¿…å…‰èŠ’ä¸‡ä¸ˆï¼Œä½†å§‹ç»ˆæ¸©æš–æœ‰å…‰ï¼",
            "ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ä»¶å¾ˆç¾å¥½çš„äº‹ã€‚",
            "æˆ‘çœ‹åˆ°å‰æ–¹é»‘æš—çš„å°½å¤´ï¼Œæœ‰å…‰åœ¨ç­‰ç€æˆ‘ã€‚",
            "å³ä½¿æ·±é™·æ²Ÿæ¸ ï¼Œä¹Ÿè¦ä»°æœ›æ˜Ÿç©ºã€‚",
            "ä¸–ç•Œå¾ˆå¤§ã€é£æ™¯å¾ˆç¾ã€æœºä¼šå¾ˆå¤šã€äººç”Ÿå¾ˆçŸ­ï¼Œä¸è¦èœ·ç¼©åœ¨ä¸€å°å—é˜´å½±é‡Œã€‚",
            "è™½åˆ™äººä¸–å……æ»¡äº†ç—›è‹¦ï¼Œä½†ä¹Ÿå……æ»¡å…‹æœç—›è‹¦çš„åŠæ³•ã€‚",
            "ä¿æŒä¹è§‚ç§¯æçš„æƒ…ç»ªï¼Œé€†ç€é˜³å…‰ï¼Œä¸€è·¯å‘å‰!",
            "åœ¨ä»¥åçš„æ—¥å­é‡Œï¼Œä½ è¿˜ä¼šé‡åˆ°å¾ˆå¤šç±»ä¼¼çš„äº‹ï¼Œä½†ä¸ç®¡æ€æ ·ï¼Œä¸è¦è®©æš—å½±åå™¬ä½ çš„å¿ƒã€‚",
            "ä½ ç”Ÿæ¥å°±å€¼å¾—è¢«çˆ±ï¼Œè¿™ä¸€ç‚¹ä½ æ— éœ€è´¨ç–‘",
            "å‡¡è‡ªå¼ºä¸æ¯è€…ï¼Œç»ˆå°†å¾—åˆ°æ•‘èµã€‚",
            "å«æ³ªæ’­ç§çš„äººä¸€å®šèƒ½å«ç¬‘æ”¶è·ã€‚",
            "é»‘æš—çš„å¤œæ‰ä¼šçœ‹è§æœ€ç¾çš„æ˜Ÿå…‰ï¼Œäººç”Ÿäº¦æ˜¯å¦‚æ­¤ã€‚",
            "å°±ç®—ä¸–ç•Œæœ‰ä¸€åƒä¸ªç†ç”±è®©ä½ å“­æ³£ï¼Œä½ ä¹Ÿè¦æœ‰ä¸€åƒé›¶ä¸€ä¸ªç†ç”±å¾®ç¬‘ã€‚",
            "é‚£äº›åŠªåŠ›å¾®ç¬‘çš„äººï¼Œä¹Ÿæ›¾åœ¨æ·±å¤œé‡Œç—›å“­ã€‚",
            "æ¯ä¸€æ¬¡æ˜Ÿå¤œå…¼ç¨‹ï¼Œéƒ½æ˜¯æ´»ä¸‹å»çš„èµæ­Œ",
            "å¦‚æœäº‹ä¸æ„¿è¿ï¼Œå°±ç›¸ä¿¡ä¸Šå¸ä¸€å®šå¦æœ‰å®‰æ’ã€‚",
            "è¯·ä¿æŒé‚£ä»½çƒ­çˆ±ï¼Œå¥”èµ´ä¸‹ä¸€åœºå±±æµ·ã€‚",
            "ä¿¡ä»°æ˜¯ä¸€ç§å¾ˆç¥åœ£çš„å¯„æ‰˜ã€‚",
            "å¾—åˆ°å°±çæƒœï¼Œå¤±å»ä¸åæ‚”ï¼Œä¸è¦ä¸ºéš¾è‡ªå·±ï¼Œä¸è¦è‹›æ±‚åˆ«äººï¼Œå¦‚æœå°½åŠ›è€Œä¸ºï¼Œé‚£å°±é—®å¿ƒæ— æ„§ï¼Œæ— æ€¨æ— æ‚”ã€‚",
            "äººç”Ÿéš¾å…ç»å—æŒ«æŠ˜ï¼Œé£é›¨è¿‡åå°±æ˜¯å½©è™¹ï¼›ç”Ÿæ´»éš¾å…é­å—è‹¦éš¾ï¼Œé›¨è¿‡å¤©æ™´ç»ˆæœ‰é˜³å…‰ã€‚",
            "å¸Œæœ›ä½ çœ¼çœ¸æœ‰æ˜Ÿè¾°ï¼Œå¿ƒä¸­æœ‰å±±æµ·ï¼Œä»æ­¤ä»¥æ¢¦ä¸ºé©¬ï¼Œä¸è´ŸéŸ¶åã€‚",
            "ä¸€åˆ‡éƒ½ä¼šè¿‡å»çš„ï¼Œæ´»åœ¨æ­¤åˆ»ï¼",
            "ä½ åº”è¯¥è¢«çˆ±ï¼Œä¹Ÿå€¼å¾—è¢«çˆ±ã€‚"
        ];

        // å®šä¹‰å¤šç§é¢œè‰²
        const colors = [
            "rgba(255, 99, 132, 0.85)",
            "rgba(54, 162, 235, 0.85)",
            "rgba(255, 206, 86, 0.85)",
            "rgba(75, 192, 192, 0.85)",
            "rgba(153, 102, 255, 0.85)",
            "rgba(255, 159, 64, 0.85)",
            "rgba(199, 199, 199, 0.85)",
            "rgba(83, 102, 255, 0.85)",
            "rgba(40, 159, 64, 0.85)"
        ];

        // è®°å½•å½“å‰æ ‡ç­¾æ•°é‡
        let stickerCount = 0;
        
        // è®°å½•æ‰€æœ‰æ ‡ç­¾çš„ä½ç½®å’Œå¤§å°
        const stickerPositions = [];
        
        // é»˜è®¤å¤œé—´æ¨¡å¼
        let isNightMode = true;
        
        // ç²’å­æ•ˆæœ
        let particles = [];
        let particleInterval;
        
        // è®¾ç½®
        let settings = {
            stickerCount: 15,
            animationSpeed: 3,
            fontSize: 3,
            spawnRate: 3,
            enableParticles: true,
            enableHearts: true,
            enableMusic: true
        };
        
        // éŸ³ä¹
        let audioContext;
        let audioSource;
        let isPlaying = false;
        let currentTime = 0;
        let startTime = 0;
        
        // ç‰¹æ•ˆæ¨¡å¼
        let rainbowMode = false;
        let pulseMode = false;

        // ç”Ÿæˆéšæœºæ•°çš„å‡½æ•°
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }

        // æ£€æŸ¥ä½ç½®æ˜¯å¦ä¸ç°æœ‰æ ‡ç­¾é‡å 
        function isOverlapping(x, y, width, height) {
            for (const pos of stickerPositions) {
                const dx = Math.abs(x - pos.x);
                const dy = Math.abs(y - pos.y);
                
                // å¦‚æœä¸¤ä¸ªæ ‡ç­¾ä¸­å¿ƒç‚¹çš„è·ç¦»å°äºå®ƒä»¬çš„å®½åº¦å’Œé«˜åº¦ä¹‹å’Œçš„ä¸€åŠï¼Œåˆ™è®¤ä¸ºé‡å 
                if (dx < (width + pos.width) / 2 + 10 && dy < (height + pos.height) / 2 + 10) {
                    return true;
                }
            }
            return false;
        }

        // ç”Ÿæˆæ–‡å­—æ ‡ç­¾
        function createSticker() {
            const sticker = document.createElement("div");
            sticker.className = "sticker";
            
            // éšæœºé€‰æ‹©æ–‡å­—å’Œé¢œè‰²
            const text = texts[Math.floor(Math.random() * texts.length)];
            
            // å½©è™¹æ¨¡å¼ç‰¹æ•ˆ
            let color;
            if (rainbowMode) {
                const hue = Math.floor(getRandom(0, 360));
                color = `hsla(${hue}, 70%, 60%, 0.85)`;
            } else {
                color = colors[Math.floor(Math.random() * colors.length)];
            }
            
            sticker.textContent = text;
            sticker.style.backgroundColor = color;
            
            // å¿ƒè·³æ¨¡å¼ç‰¹æ•ˆ
            if (pulseMode) {
                sticker.style.animation = `float ${getRandom(4, 8)}s infinite ease-in-out, pulse 1.5s infinite ease-in-out`;
            } else {
                sticker.style.animation = `float ${getRandom(8, 14)}s infinite ease-in-out`;
            }
            
            // æ ¹æ®è®¾ç½®è°ƒæ•´å­—ä½“å¤§å°
            let fontSize;
            switch(settings.fontSize) {
                case 1: fontSize = getRandom(12, 16); break;
                case 2: fontSize = getRandom(14, 18); break;
                case 3: fontSize = getRandom(16, 22); break;
                case 4: fontSize = getRandom(18, 24); break;
                case 5: fontSize = getRandom(20, 26); break;
                default: fontSize = getRandom(16, 22);
            }
            sticker.style.fontSize = `${fontSize}px`;
            
            // å…ˆæ·»åŠ åˆ°DOMä»¥è·å–å®é™…å°ºå¯¸
            document.body.appendChild(sticker);
            const width = sticker.offsetWidth;
            const height = sticker.offsetHeight;
            
            // å¯»æ‰¾ä¸é‡å çš„ä½ç½®
            let x, y;
            let attempts = 0;
            const maxAttempts = 50;
            
            do {
                x = getRandom(5, 85);
                y = getRandom(15, 85);
                attempts++;
            } while (isOverlapping(x, y, width, height) && attempts < maxAttempts);
            
            // å¦‚æœå°è¯•æ¬¡æ•°è¿‡å¤šï¼Œç›´æ¥ç§»é™¤å¹¶è¿”å›
            if (attempts >= maxAttempts) {
                document.body.removeChild(sticker);
                return;
            }
            
            // è®¾ç½®ä½ç½®
            sticker.style.left = `${x}%`;
            sticker.style.top = `${y}%`;
            
            // è®°å½•ä½ç½®å’Œå°ºå¯¸
            stickerPositions.push({
                x: x,
                y: y,
                width: width,
                height: height,
                element: sticker
            });
            
            // æ ¹æ®è®¾ç½®è°ƒæ•´åŠ¨ç”»é€Ÿåº¦
            let animationDuration;
            switch(settings.animationSpeed) {
                case 1: animationDuration = getRandom(12, 18); break;
                case 2: animationDuration = getRandom(10, 16); break;
                case 3: animationDuration = getRandom(8, 14); break;
                case 4: animationDuration = getRandom(6, 12); break;
                case 5: animationDuration = getRandom(4, 10); break;
                default: animationDuration = getRandom(8, 14);
            }
            
            if (!pulseMode) {
                sticker.style.animationDuration = `${animationDuration}s`;
            }
            
            sticker.style.animationDelay = `${getRandom(0, 5)}s`;
            
            // æ›´æ–°è®¡æ•°
            stickerCount++;
            document.getElementById('count').textContent = stickerCount;
            
            // æ·»åŠ ç‚¹å‡»ç§»é™¤åŠŸèƒ½
            sticker.addEventListener('click', function() {
                this.style.transform = 'scale(0)';
                this.style.opacity = '0';
                
                // ä»ä½ç½®æ•°ç»„ä¸­ç§»é™¤
                const index = stickerPositions.findIndex(pos => pos.element === this);
                if (index !== -1) {
                    stickerPositions.splice(index, 1);
                }
                
                setTimeout(() => {
                    if (this.parentNode) {
                        this.parentNode.removeChild(this);
                        stickerCount--;
                        document.getElementById('count').textContent = stickerCount;
                    }
                }, 500);
            });
            
            // æ·»åŠ å³é”®èœå•åŠŸèƒ½
            if (settings.enableHearts) {
                sticker.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    createHeart(e.clientX, e.clientY);
                    return false;
                });
            }
            
            // ä¸€æ®µæ—¶é—´åè‡ªåŠ¨ç§»é™¤å¹¶é‡æ–°ç”Ÿæˆï¼Œä¿æŒåŠ¨æ€
            setTimeout(() => {
                if (sticker.parentNode) {
                    sticker.style.opacity = '0';
                    
                    // ä»ä½ç½®æ•°ç»„ä¸­ç§»é™¤
                    const index = stickerPositions.findIndex(pos => pos.element === sticker);
                    if (index !== -1) {
                        stickerPositions.splice(index, 1);
                    }
                    
                    setTimeout(() => {
                        if (sticker.parentNode) {
                            sticker.parentNode.removeChild(sticker);
                            stickerCount--;
                            document.getElementById('count').textContent = stickerCount;
                            createSticker();
                        }
                    }, 500);
                }
            }, getRandom(15000, 25000));
        }

        // åˆ›å»ºçˆ±å¿ƒæ•ˆæœ
        function createHeart(x, y) {
            if (!settings.enableHearts) return;
            
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = `${x - 10}px`;
            heart.style.top = `${y - 10}px`;
            heart.style.animation = `heartFloat 1s forwards`;
            
            document.body.appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 1000);
        }

        // åˆ‡æ¢ä¸»é¢˜æ¨¡å¼
        function toggleTheme() {
            isNightMode = !isNightMode;
            
            if (isNightMode) {
                document.body.style.background = 'linear-gradient(135deg, #2c3e50 0%, #34495e 100%)';
                document.querySelector('.theme-toggle').innerHTML = 'ğŸŒ æ—¥é—´æ¨¡å¼';
                document.querySelector('.title').style.color = '#ecf0f1';
                document.querySelector('.title').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.info-panel').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.info-panel').style.color = '#ecf0f1';
                document.querySelectorAll('.control-btn').forEach(btn => {
                    btn.style.background = 'rgba(44, 62, 80, 0.7)';
                    btn.style.color = '#ecf0f1';
                });
                document.querySelector('.theme-toggle').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.theme-toggle').style.color = '#ecf0f1';
                document.querySelector('.settings-panel').style.background = 'rgba(44, 62, 80, 0.9)';
                document.querySelector('.settings-panel').style.color = '#ecf0f1';
                document.querySelectorAll('.effect-btn').forEach(btn => {
                    btn.style.background = 'rgba(44, 62, 80, 0.7)';
                    btn.style.color = '#ecf0f1';
                });
                document.querySelector('.music-player').style.background = 'rgba(44, 62, 80, 0.7)';
            } else {
                document.body.style.background = 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)';
                document.querySelector('.theme-toggle').innerHTML = 'ğŸŒ™ å¤œé—´æ¨¡å¼';
                document.querySelector('.title').style.color = '#4a5568';
                document.querySelector('.title').style.background = 'rgba(255, 255, 255, 0.7)';
                document.querySelector('.info-panel').style.background = 'rgba(255, 255, 255, 0.8)';
                document.querySelector('.info-panel').style.color = '#4a5568';
                document.querySelectorAll('.control-btn').forEach(btn => {
                    btn.style.background = 'rgba(255, 255, 255, 0.8)';
                    btn.style.color = '#4a5568';
                });
                document.querySelector('.theme-toggle').style.background = 'rgba(255, 255, 255, 0.8)';
                document.querySelector('.theme-toggle').style.color = '#4a5568';
                document.querySelector('.settings-panel').style.background = 'rgba(255, 255, 255, 0.9)';
                document.querySelector('.settings-panel').style.color = '#4a5568';
                document.querySelectorAll('.effect-btn').forEach(btn => {
                    btn.style.background = 'rgba(255, 255, 255, 0.8)';
                    btn.style.color = '#4a5568';
                });
                document.querySelector('.music-player').style.background = 'rgba(255, 255, 255, 0.8)';
                document.querySelector('.music-player').style.color = '#4a5568';
            }
        }

        // åˆ›å»ºç²’å­æ•ˆæœ
        function createParticles() {
            if (!settings.enableParticles) return;
            
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = getRandom(2, 6);
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                const x = getRandom(0, 100);
                const y = getRandom(0, 100);
                particle.style.left = `${x}%`;
                particle.style.top = `${y}%`;
                
                const colorIndex = Math.floor(Math.random() * colors.length);
                particle.style.backgroundColor = colors[colorIndex].replace('0.85', '0.3');
                
                document.body.appendChild(particle);
                
                particles.push({
                    element: particle,
                    x: x,
                    y: y,
                    speedX: getRandom(-0.5, 0.5),
                    speedY: getRandom(-0.5, 0.5)
                });
            }
            
            // æ›´æ–°ç²’å­ä½ç½®
            particleInterval = setInterval(() => {
                if (!settings.enableParticles) {
                    clearInterval(particleInterval);
                    return;
                }
                
                particles.forEach(particle => {
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    
                    // è¾¹ç•Œæ£€æŸ¥
                    if (particle.x < 0 || particle.x > 100) particle.speedX *= -1;
                    if (particle.y < 0 || particle.y > 100) particle.speedY *= -1;
                    
                    particle.element.style.left = `${particle.x}%`;
                    particle.element.style.top = `${particle.y}%`;
                });
            }, 50);
        }

        // æ¸…é™¤ç²’å­æ•ˆæœ
        function clearParticles() {
            particles.forEach(particle => {
                if (particle.element.parentNode) {
                    particle.element.parentNode.removeChild(particle.element);
                }
            });
            particles = [];
            clearInterval(particleInterval);
        }

        // åˆå§‹åŒ–æ ‡ç­¾
        function initStickers(count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    createSticker();
                }, i * 300);
            }
        }

        // æ¸…é™¤æ‰€æœ‰æ ‡ç­¾
        function clearAllStickers() {
            const stickers = document.querySelectorAll('.sticker');
            stickers.forEach(sticker => {
                sticker.style.transition = 'all 0.5s ease';
                sticker.style.transform = 'scale(0)';
                sticker.style.opacity = '0';
                setTimeout(() => {
                    if (sticker.parentNode) {
                        sticker.parentNode.removeChild(sticker);
                    }
                }, 500);
            });
            
            stickerPositions.length = 0;
            stickerCount = 0;
            document.getElementById('count').textContent = stickerCount;
        }

        // æ›´æ–°è®¾ç½®æ˜¾ç¤º
        function updateSettingsDisplay() {
            document.getElementById('countValue').textContent = settings.stickerCount;
            
            let speedText;
            switch(settings.animationSpeed) {
                case 1: speedText = 'å¾ˆæ…¢'; break;
                case 2: speedText = 'è¾ƒæ…¢'; break;
                case 3: speedText = 'æ­£å¸¸'; break;
                case 4: speedText = 'è¾ƒå¿«'; break;
                case 5: speedText = 'å¾ˆå¿«'; break;
                default: speedText = 'æ­£å¸¸';
            }
            document.getElementById('speedValue').textContent = speedText;
            
            let sizeText;
            switch(settings.fontSize) {
                case 1: sizeText = 'å¾ˆå°'; break;
                case 2: sizeText = 'è¾ƒå°'; break;
                case 3: sizeText = 'ä¸­ç­‰'; break;
                case 4: sizeText = 'è¾ƒå¤§'; break;
                case 5: sizeText = 'å¾ˆå¤§'; break;
                default: sizeText = 'ä¸­ç­‰';
            }
            document.getElementById('sizeValue').textContent = sizeText;
            
            let rateText;
            switch(settings.spawnRate) {
                case 1: rateText = 'å¾ˆæ…¢'; break;
                case 2: rateText = 'è¾ƒæ…¢'; break;
                case 3: rateText = 'æ­£å¸¸'; break;
                case 4: rateText = 'è¾ƒå¿«'; break;
                case 5: rateText = 'å¾ˆå¿«'; break;
                default: rateText = 'æ­£å¸¸';
            }
            document.getElementById('rateValue').textContent = rateText;
            
            document.getElementById('enableParticles').checked = settings.enableParticles;
            document.getElementById('enableHearts').checked = settings.enableHearts;
            document.getElementById('enableMusic').checked = settings.enableMusic;
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // åˆ‡æ¢å½©è™¹æ¨¡å¼
        function toggleRainbowMode() {
            rainbowMode = !rainbowMode;
            document.getElementById('rainbowBtn').innerHTML = rainbowMode ? 'ğŸŒˆ å½©è™¹æ¨¡å¼(å¼€)' : 'ğŸŒˆ å½©è™¹æ¨¡å¼';
            showNotification(rainbowMode ? 'å½©è™¹æ¨¡å¼å·²å¼€å¯' : 'å½©è™¹æ¨¡å¼å·²å…³é—­');
            
            // æ›´æ–°æ‰€æœ‰ç°æœ‰æ ‡ç­¾çš„é¢œè‰²
            const stickers = document.querySelectorAll('.sticker');
            stickers.forEach(sticker => {
                if (rainbowMode) {
                    const hue = Math.floor(getRandom(0, 360));
                    sticker.style.backgroundColor = `hsla(${hue}, 70%, 60%, 0.85)`;
                } else {
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    sticker.style.backgroundColor = color;
                }
            });
        }

        // åˆ‡æ¢å¿ƒè·³æ¨¡å¼
        function togglePulseMode() {
            pulseMode = !pulseMode;
            document.getElementById('pulseBtn').innerHTML = pulseMode ? 'ğŸ’“ å¿ƒè·³æ¨¡å¼(å¼€)' : 'ğŸ’“ å¿ƒè·³æ¨¡å¼';
            showNotification(pulseMode ? 'å¿ƒè·³æ¨¡å¼å·²å¼€å¯' : 'å¿ƒè·³æ¨¡å¼å·²å…³é—­');
            
            // æ›´æ–°æ‰€æœ‰ç°æœ‰æ ‡ç­¾çš„åŠ¨ç”»
            const stickers = document.querySelectorAll('.sticker');
            stickers.forEach(sticker => {
                if (pulseMode) {
                    sticker.style.animation = `float ${getRandom(4, 8)}s infinite ease-in-out, pulse 1.5s infinite ease-in-out`;
                } else {
                    sticker.style.animation = `float ${getRandom(8, 14)}s infinite ease-in-out`;
                }
            });
        }

        // çˆ†ç‚¸æ•ˆæœ
        function explodeStickers() {
            const stickers = document.querySelectorAll('.sticker');
            stickers.forEach((sticker, index) => {
                setTimeout(() => {
                    sticker.style.transition = 'all 0.5s ease';
                    sticker.style.transform = `translate(${getRandom(-100, 100)}px, ${getRandom(-100, 100)}px) rotate(${getRandom(-180, 180)}deg)`;
                    sticker.style.opacity = '0';
                    
                    setTimeout(() => {
                        if (sticker.parentNode) {
                            sticker.parentNode.removeChild(sticker);
                            
                            // ä»ä½ç½®æ•°ç»„ä¸­ç§»é™¤
                            const posIndex = stickerPositions.findIndex(pos => pos.element === sticker);
                            if (posIndex !== -1) {
                                stickerPositions.splice(posIndex, 1);
                            }
                            
                            stickerCount--;
                            document.getElementById('count').textContent = stickerCount;
                        }
                    }, 500);
                }, index * 50);
            });
            
            showNotification('çˆ†ç‚¸æ•ˆæœï¼æ‰€æœ‰æ ‡ç­¾å·²æ¸…é™¤');
        }

        // äº‹ä»¶ç›‘å¬
        document.getElementById('clearBtn').addEventListener('click', clearAllStickers);
        
        document.getElementById('settingsBtn').addEventListener('click', function() {
            const panel = document.getElementById('settingsPanel');
            panel.style.display = 'block';
        });
        
        document.getElementById('closeSettings').addEventListener('click', function() {
            const panel = document.getElementById('settingsPanel');
            panel.style.display = 'none';
        });
        
        document.querySelector('.theme-toggle').addEventListener('click', toggleTheme);
        
        // è®¾ç½®å˜åŒ–ç›‘å¬
        document.getElementById('stickerCount').addEventListener('input', function() {
            settings.stickerCount = parseInt(this.value);
            updateSettingsDisplay();
        });
        
        document.getElementById('animationSpeed').addEventListener('input', function() {
            settings.animationSpeed = parseInt(this.value);
            updateSettingsDisplay();
        });
        
        document.getElementById('fontSize').addEventListener('input', function() {
            settings.fontSize = parseInt(this.value);
            updateSettingsDisplay();
        });
        
        document.getElementById('spawnRate').addEventListener('input', function() {
            settings.spawnRate = parseInt(this.value);
            updateSettingsDisplay();
        });
        
        document.getElementById('enableParticles').addEventListener('change', function() {
            settings.enableParticles = this.checked;
            if (settings.enableParticles) {
                createParticles();
            } else {
                clearParticles();
            }
        });
        
        document.getElementById('enableHearts').addEventListener('change', function() {
            settings.enableHearts = this.checked;
        });
        
        document.getElementById('enableMusic').addEventListener('change', function() {
            settings.enableMusic = this.checked;
        });
        
        // ç‰¹æ•ˆæŒ‰é’®äº‹ä»¶
        document.getElementById('rainbowBtn').addEventListener('click', toggleRainbowMode);
        document.getElementById('pulseBtn').addEventListener('click', togglePulseMode);
        document.getElementById('explodeBtn').addEventListener('click', explodeStickers);

        // åŒå‡»åˆ›å»ºæ ‡ç­¾
        document.addEventListener('dblclick', function(e) {
            createSticker();
        });

        // é¡µé¢å¯è§æ€§å˜åŒ–
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = "ä½ ä¸æƒ³ç†æˆ‘äº†å—(â•¥ï¹â•¥)";
            } else {
                document.title = "ç°åŸä»€ä¹ˆçš„æœ€å¯çˆ±äº†(â—'â—¡'â—)";
            }
        });

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', function() {
            // åˆå§‹åŒ–è®¾ç½®æ˜¾ç¤º
            updateSettingsDisplay();
            
            // åˆå§‹åˆ›å»ºæ ‡ç­¾
            initStickers(settings.stickerCount);
            
            // åˆ›å»ºç²’å­æ•ˆæœ
            createParticles();
            
            // æ ¹æ®ç”Ÿæˆé€Ÿåº¦è®¾ç½®æ ‡ç­¾ç”Ÿæˆé—´éš”
            let spawnInterval;
            switch(settings.spawnRate) {
                case 1: spawnInterval = 5000; break;
                case 2: spawnInterval = 4000; break;
                case 3: spawnInterval = 3000; break;
                case 4: spawnInterval = 2000; break;
                case 5: spawnInterval = 1000; break;
                default: spawnInterval = 3000;
            }
            
            // æ¯éš”ä¸€æ®µæ—¶é—´åˆ›å»ºä¸€ä¸ªæ–°æ ‡ç­¾
            setInterval(() => {
                if (stickerCount < settings.stickerCount) {
                    createSticker();
                }
            }, spawnInterval);
        });
    </script>
</body>
</html>
