<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>灰原什么的最可爱了(●'◡'●)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-family: "微软雅黑", "PingFang SC", sans-serif;
            height: 100vh;
            position: relative;
            cursor: default;
        }
        
        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #4a5568;
            font-size: 2rem;
            text-align: center;
            z-index: 100;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.7);
            padding: 10px 20px;
            border-radius: 50px;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .title:hover {
            transform: translateX(-50%) scale(1.05);
        }
        
        .sticker {
            position: absolute;
            padding: 10px 16px;
            border-radius: 8px;
            color: white;
            font-family: "微软雅黑", "PingFang SC", sans-serif;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.5s ease;
            z-index: 1;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .sticker:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-15px) rotate(1deg);
            }
            50% {
                transform: translateY(-5px) rotate(-1deg);
            }
            75% {
                transform: translateY(-10px) rotate(2deg);
            }
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 99, 132, 0.7);
            transform: rotate(45deg);
            z-index: 0;
            pointer-events: none;
        }
        
        .heart:before, .heart:after {
            content: '';
            width: 20px;
            height: 20px;
            background: rgba(255, 99, 132, 0.7);
            border-radius: 50%;
            position: absolute;
        }
        
        .heart:before {
            top: -10px;
            left: 0;
        }
        
        .heart:after {
            top: 0;
            left: -10px;
        }
        
        @keyframes heartFloat {
            0% {
                transform: rotate(45deg) translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: rotate(45deg) translateY(-100px) scale(0.5);
                opacity: 0;
            }
        }
        
        .info-panel {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #4a5568;
            z-index: 100;
            backdrop-filter: blur(4px);
        }
        
        .mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #4a5568;
            z-index: 100;
            backdrop-filter: blur(4px);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .mode-toggle:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="title">灰原什么的最可爱了(●'◡'●)</div>
    <div class="mode-toggle">夜间模式</div>
    <div class="info-panel">标签数量: <span id="count">0</span></div>

    <script>
        // 定义多条温暖的文字内容
        const texts = [
            "灰原最可爱了",
            "灰原赛高",
            "哀酱萌萌哒",
            "小哀最棒",
            "灰原聪明又美丽",
            "喜欢灰原",
            "灰原最帅了",
            "哀殿天下第一",
            "灰原什么的最可爱了",
            "永远支持灰原",
            "灰原的笑容由我来守护",
            "灰原最厉害",
            "灰原大人",
            "灰原最迷人",
            "哀女王",
            "灰原最温柔",
            "灰原最可靠",
            "灰原最有趣",
            "灰原最酷",
            "灰原最优雅",
            "灰原最强大",
            "灰原最完美",
            "灰原最独特",
            "灰原最闪耀",
            "灰原最让人心动"
        ];

        // 定义多种颜色
        const colors = [
            "rgba(255, 99, 132, 0.85)",
            "rgba(54, 162, 235, 0.85)",
            "rgba(255, 206, 86, 0.85)",
            "rgba(75, 192, 192, 0.85)",
            "rgba(153, 102, 255, 0.85)",
            "rgba(255, 159, 64, 0.85)",
            "rgba(199, 199, 199, 0.85)",
            "rgba(83, 102, 255, 0.85)",
            "rgba(40, 159, 64, 0.85)"
        ];

        // 记录当前标签数量
        let stickerCount = 0;
        
        // 记录所有标签的位置和大小
        const stickerPositions = [];
        
        // 夜间模式状态
        let isNightMode = false;

        // 生成随机数的函数
        function getRandom(min, max) {
            return Math.random() * (max - min) + min;
        }

        // 检查位置是否与现有标签重叠太多
        function isOverlapping(x, y, width, height) {
            for (const pos of stickerPositions) {
                const dx = Math.abs(x - pos.x);
                const dy = Math.abs(y - pos.y);
                
                // 如果两个标签中心点的距离小于它们的宽度和高度之和的一半，则认为重叠太多
                if (dx < (width + pos.width) / 2 && dy < (height + pos.height) / 2) {
                    return true;
                }
            }
            return false;
        }

        // 生成文字标签
        function createSticker() {
            const sticker = document.createElement("div");
            sticker.className = "sticker";
            
            // 随机选择文字和颜色
            const text = texts[Math.floor(Math.random() * texts.length)];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            sticker.textContent = text;
            sticker.style.backgroundColor = color;
            
            // 随机字体大小
            const fontSize = getRandom(16, 24);
            sticker.style.fontSize = `${fontSize}px`;
            
            // 先添加到DOM以获取实际尺寸
            document.body.appendChild(sticker);
            const width = sticker.offsetWidth;
            const height = sticker.offsetHeight;
            
            // 寻找不重叠的位置
            let x, y;
            let attempts = 0;
            const maxAttempts = 20;
            
            do {
                x = getRandom(5, 95);
                y = getRandom(15, 85);
                attempts++;
            } while (isOverlapping(x, y, width, height) && attempts < maxAttempts);
            
            // 设置位置
            sticker.style.left = `${x}%`;
            sticker.style.top = `${y}%`;
            
            // 记录位置和尺寸
            stickerPositions.push({
                x: x,
                y: y,
                width: width,
                height: height,
                element: sticker
            });
            
            // 随机动画延迟和持续时间
            const animationDuration = `${getRandom(8, 15)}s`;
            sticker.style.animation = `float ${animationDuration} infinite ease-in-out`;
            sticker.style.animationDelay = `${getRandom(0, 5)}s`;
            
            // 更新计数
            stickerCount++;
            document.getElementById('count').textContent = stickerCount;
            
            // 添加点击移除功能
            sticker.addEventListener('click', function() {
                this.style.transform = 'scale(0)';
                this.style.opacity = '0';
                
                // 从位置数组中移除
                const index = stickerPositions.findIndex(pos => pos.element === this);
                if (index !== -1) {
                    stickerPositions.splice(index, 1);
                }
                
                setTimeout(() => {
                    if (this.parentNode) {
                        this.parentNode.removeChild(this);
                        stickerCount--;
                        document.getElementById('count').textContent = stickerCount;
                    }
                }, 500);
            });
            
            // 添加右键菜单功能
            sticker.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                createHeart(e.clientX, e.clientY);
                return false;
            });
            
            // 一段时间后自动移除并重新生成，保持动态
            setTimeout(() => {
                if (sticker.parentNode) {
                    sticker.style.opacity = '0';
                    
                    // 从位置数组中移除
                    const index = stickerPositions.findIndex(pos => pos.element === sticker);
                    if (index !== -1) {
                        stickerPositions.splice(index, 1);
                    }
                    
                    setTimeout(() => {
                        if (sticker.parentNode) {
                            sticker.parentNode.removeChild(sticker);
                            stickerCount--;
                            document.getElementById('count').textContent = stickerCount;
                            createSticker();
                        }
                    }, 500);
                }
            }, getRandom(15000, 25000));
        }

        // 创建爱心效果
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = `${x - 10}px`;
            heart.style.top = `${y - 10}px`;
            heart.style.animation = `heartFloat 1s forwards`;
            
            document.body.appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 1000);
        }

        // 切换夜间模式
        function toggleNightMode() {
            isNightMode = !isNightMode;
            
            if (isNightMode) {
                document.body.style.background = 'linear-gradient(135deg, #2c3e50 0%, #34495e 100%)';
                document.querySelector('.mode-toggle').textContent = '日间模式';
                document.querySelector('.title').style.color = '#ecf0f1';
                document.querySelector('.title').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.info-panel').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.info-panel').style.color = '#ecf0f1';
                document.querySelector('.mode-toggle').style.background = 'rgba(44, 62, 80, 0.7)';
                document.querySelector('.mode-toggle').style.color = '#ecf0f1';
            } else {
                document.body.style.background = 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)';
                document.querySelector('.mode-toggle').textContent = '夜间模式';
                document.querySelector('.title').style.color = '#4a5568';
                document.querySelector('.title').style.background = 'rgba(255, 255, 255, 0.7)';
                document.querySelector('.info-panel').style.background = 'rgba(255, 255, 255, 0.8)';
                document.querySelector('.info-panel').style.color = '#4a5568';
                document.querySelector('.mode-toggle').style.background = 'rgba(255, 255, 255, 0.8)';
                document.querySelector('.mode-toggle').style.color = '#4a5568';
            }
        }

        // 双击创建标签
        document.addEventListener('dblclick', function(e) {
            createSticker();
        });

        // 页面可见性变化
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = "你不想理我了吗(╥﹏╥)";
            } else {
                document.title = "灰原什么的最可爱了(●'◡'●)";
            }
        });

        // 事件监听
        document.querySelector('.mode-toggle').addEventListener('click', toggleNightMode);

        // 页面加载时初始化
        window.addEventListener('load', function() {
            // 初始创建10个标签
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    createSticker();
                }, i * 500);
            }
            
            // 每隔一段时间创建一个新标签
            setInterval(() => {
                if (stickerCount < 25) {
                    createSticker();
                }
            }, 3000);
        });
    </script>
</body>
</html>
